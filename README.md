# Punishing_Combat_Imitation
퍼니싱:그레이 레이븐 전투 시스템 모작

#### 예상 프로젝트 기간 (협업 시) : 4주 ~ 6주 (필수 기능 구현만)

## 개요

### 퍼니싱:그레이 레이븐은 무슨 게임인가?

퍼니싱: 그레이 레이븐(이하 퍼니싱)은 **명조: 워더링 웨이브(이하 명조)의 개발사인 KURO GAMES의 전작**입니다. 

명조는 오픈월드 게임 장르에서도 특히 유려한 그래픽과 현란한 액션으로 현재 큰 인기를 끌고 있는 게임입니다.

명조의 전투 시스템 노하우는 퍼니싱:그레이 레이븐에서 온 것입니다.

### 퍼니싱의 전투 시스템

퍼니싱의 전투는 붕괴 3rd와 비슷한 방식을 가지고 있습니다.

- 3명이 한 파티를 이루어 전투에 참여합니다.

- 일반 공격과 회피가 있으며 공격 키를 연타하면 캐릭터마다 고유한 모션으로 **연속 공격**을 실행합니다.

- 적에게 공격 받기 **직전**에 회피를 하면 **초산 회피**라는 특수한 효과가 발동하며 자신을 제외한 **모든 적이 일정시간 느려지는 효과**가 있습니다.

- 전투 중 적에게 피해를 주거나, 초산 회피 발동 등 의미있는 행동을 하면 필살기 게이지가 차오르고 꽉 차게 되면 **필살기를 발동**할 수 있습니다.

- 전투 중 짧은 캐릭터를 교체할 수 있는데 캐릭터마다 고유한 조건을 만족하면 **QTE라는 교대기를 발동**할 수 있습니다. 교체 후에는 짧은 대기시간이 있습니다.

위의 설명까지는 붕괴 3rd와 거의 유사한 시스템입니다.

- 퍼니싱 전투 시스템의 핵심이자 차별점은 **스킬볼** 시스템입니다.

  스킬볼은 캐릭터마다 가진 3가지의 액티브 스킬을 **색상과 체인**으로 구성하여 발동하는 퍼니싱만의 고유한 전투 로직입니다.
  
  일정 시간이 지나거나 캐릭터 별 고유 스킬을 통해 스킬볼을 랜덤하게 획득하며 **같은 색상이 연달아 붙어있다면 (최대 3개까지) 스킬의 효과가 더욱 강해집니다.**
  
  이러한 체인 방식으로 **같은 색상의 스킬볼 3개를 모아 강력한 스킬을 발동**시켜 적을 공략하는 것이 퍼니싱 전투의 핵심입니다.
  또한 **초산 회피**를 발동시킨 후 **처음 사용한 스킬은 스킬볼의 갯수와 상관없이 3개의 효과로 발동**됩니다.

  아래는 제가 지인에게 영업하려고(...) 직접 딴 인게임 플레이 장면입니다.
  전조 효과를 통해 적이 공격을 해올 것임을 알 수 있으며 이를 타이밍에 맞춰 회피하면 초산 회피가 발동합니다.
  같은 색상의 스킬볼 3개가 한번에 사라지는 것을 볼 수 있습니다.

![Image](https://github.com/user-attachments/assets/a64f731a-92be-4542-b49f-a1c0919fbefb)

![Image](https://github.com/user-attachments/assets/854bba4e-ed23-4e43-bd7f-e5cb57c70391)

![Image](https://github.com/user-attachments/assets/1e95eba2-cf04-4c26-9371-56b1efe78cf3)

조작 특성상 스킬볼 사용이 키보드 마우스를 사용하는 PC 게임보다 모바일 게임에 더 적합한 전투 방식입니다.

하지만 PC 게임에서도 원활하게 플레이할 수 있도록 UX를 최적화하였습니다.

## 기능 목록

퍼니싱의 전투 시스템에는 상당히 많은 로직들이 복합적으로 동작합니다.

그래서 먼저 이것들 쪼개고 우선 순위를 정할 필요가 있습니다.

이를 위해 마인드맵을 작성했습니다.

<img width="912" height="942" alt="Image" src="https://github.com/user-attachments/assets/5e13be59-1f29-40ad-8d26-895ae200c939" />

위 마인드맵은 전투 로직에 집중한 내용이고 이 외에 필수적으로 구현해야 할 것은

- 게임 실행 시 **타이틀** : Game Start, Exit
- **게임 매니저** : 싱글톤, static 자원 관리 등
- 전투 시작 전 **캐릭터 선택** : 초기 1명 선택 -> 3명 편성으로 확장
- **일반 공격(좌클) , 회피(스페이스바 or 우클) , 필살기(R키) 버튼과 8개의 스킬볼 버튼 (1~8)**
- **W,A,S,D 키로 이동, 마우스로 카메라 회전**
- 입력에 따른 **상태 변화와 그에 따른 캐릭터 모션 출력**
- **배틀 매니저** : 전투 중 오브젝트 간 상호작용 중재자, 제한시간 3분 등
- **적 스폰 매니저** : 잡몹 웨이브 다수 출현 후 보스 출현 
- **UI** : 남은 시간, 플레이어와 적 체력, 필살기 게이지, 스킬볼 현황 등 
- 전투 진행 중 **일시정지** : 전투 재개, 재도전, 메인 화면으로 나가기
- **승리 / 패배 화면**

## 프로토타입 제작 과정 (위 기능들의 구현 우선 순위)

1. 전투가 이뤄질 공간 구현
2. 플레이어블 캐릭터 모델 제작, 이동, 일반 공격, 회피 키 입력 처리 및 모션 구현
3. 카메라 조작 구현 : 캐릭터와 일정 거리 유지, 마우스로 회전 등
4. 플레이어블 캐릭터 세부 구현 : Hp, 공격력, 방어력 스탯, 회피 로직
5. 스킬볼 시스템 구현 : 일정 시간마다 랜덤 색상 생성, 최대 3개까지 체인 발동 로직 등
6. 플레이어블 캐릭터 스킬 3종 구현
7. 스킬볼 UI 구현 : 스킬볼 우선 테스트
8. 적 모델 제작, 이동, 공격 모션 및 플레이어 추적 알고리즘 구현
9. 적 스폰 매니저 구현
10. 배틀 매니저 구현 : 플레이어와 적 오브젝트 간 상호작용 구현 (전조 알림, 공격, 피격 처리, 초산 회피 판정)
11. 씬 전환 구현 : 타이틀 화면, 로비, 전투 입장 화면, 전장
12. 게임 매니저 구현 : 씬이 전환되어도 보존되어야할 데이터 관리
13. 승리 / 패배, 일시정지 화면 구현

## 플로우차트



## 클래스 다이어그램



## 기술적 요구사항


